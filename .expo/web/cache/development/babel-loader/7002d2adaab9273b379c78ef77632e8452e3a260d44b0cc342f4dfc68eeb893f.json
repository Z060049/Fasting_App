{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveAssetUri = resolveAssetUri;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _reactNative = require(\"react-native\");\nvar _registry = require(\"@react-native/assets-registry/registry\");\nvar svgDataUriPattern = /^(data:image\\/svg\\+xml;utf8,)(.*)/;\nfunction resolveAssetUri(source) {\n  var src = {};\n  if (typeof source === 'number') {\n    var asset = (0, _registry.getAssetByID)(source);\n    if (asset == null) {\n      throw new Error(`Image: asset with ID \"${source}\" could not be found. Please check the image source or packager.`);\n    }\n    src = {\n      width: asset.width,\n      height: asset.height,\n      scale: asset.scales[0]\n    };\n    if (asset.scales.length > 1) {\n      var preferredScale = _reactNative.PixelRatio.get();\n      src.scale = asset.scales.reduce(function (prev, curr) {\n        return Math.abs(curr - preferredScale) < Math.abs(prev - preferredScale) ? curr : prev;\n      });\n    }\n    var scaleSuffix = src.scale !== 1 ? `@${src.scale}x` : '';\n    src.uri = asset ? `${asset.httpServerLocation}/${asset.name}${scaleSuffix}.${asset.type}` : '';\n  } else if (typeof source === 'string') {\n    src.uri = source;\n  } else if (source && !Array.isArray(source) && typeof source.uri === 'string') {\n    src.uri = source.uri;\n  }\n  if (src.uri) {\n    var _src;\n    var match = (_src = src) === null || _src === void 0 || (_src = _src.uri) === null || _src === void 0 ? void 0 : _src.match(svgDataUriPattern);\n    if (match) {\n      var _match = (0, _slicedToArray2.default)(match, 3),\n        prefix = _match[1],\n        svg = _match[2];\n      var encodedSvg = encodeURIComponent(svg);\n      src.uri = `${prefix}${encodedSvg}`;\n      return src;\n    }\n  }\n  return src;\n}","map":{"version":3,"names":["_reactNative","require","_registry","svgDataUriPattern","resolveAssetUri","source","src","asset","getAssetByID","Error","width","height","scale","scales","length","preferredScale","PixelRatio","get","reduce","prev","curr","Math","abs","scaleSuffix","uri","httpServerLocation","name","type","Array","isArray","_src","match","_match","_slicedToArray2","default","prefix","svg","encodedSvg","encodeURIComponent"],"sources":["/Users/joeli/Desktop/Files/github/FastingApp/node_modules/react-native-svg/src/lib/resolveAssetUri.ts"],"sourcesContent":["import {\n  ImageResolvedAssetSource,\n  PixelRatio,\n  type ImageProps as RNImageProps,\n} from 'react-native';\n// @ts-expect-error react-native/assets-registry doesn't export types.\nimport { getAssetByID } from '@react-native/assets-registry/registry';\n\nexport type PackagerAsset = {\n  __packager_asset: boolean;\n  fileSystemLocation: string;\n  httpServerLocation: string;\n  width?: number;\n  height?: number;\n  scales: Array<number>;\n  hash: string;\n  name: string;\n  type: string;\n};\n\nconst svgDataUriPattern = /^(data:image\\/svg\\+xml;utf8,)(.*)/;\n\n// Based on that function: https://github.com/necolas/react-native-web/blob/54c14d64dabd175e8055e1dc92e9196c821f9b7d/packages/react-native-web/src/exports/Image/index.js#L118-L156\nexport function resolveAssetUri(\n  source?: RNImageProps['source'] | string | number\n): Partial<ImageResolvedAssetSource> | null {\n  let src: Partial<ImageResolvedAssetSource> = {};\n  if (typeof source === 'number') {\n    // get the URI from the packager\n    const asset: PackagerAsset | null = getAssetByID(source);\n    if (asset == null) {\n      throw new Error(\n        `Image: asset with ID \"${source}\" could not be found. Please check the image source or packager.`\n      );\n    }\n    src = {\n      width: asset.width,\n      height: asset.height,\n      scale: asset.scales[0],\n    };\n    if (asset.scales.length > 1) {\n      const preferredScale = PixelRatio.get();\n      // Get the scale which is closest to the preferred scale\n      src.scale = asset.scales.reduce((prev, curr) =>\n        Math.abs(curr - preferredScale) < Math.abs(prev - preferredScale)\n          ? curr\n          : prev\n      );\n    }\n    const scaleSuffix = src.scale !== 1 ? `@${src.scale}x` : '';\n    src.uri = asset\n      ? `${asset.httpServerLocation}/${asset.name}${scaleSuffix}.${asset.type}`\n      : '';\n  } else if (typeof source === 'string') {\n    src.uri = source;\n  } else if (\n    source &&\n    !Array.isArray(source) &&\n    typeof source.uri === 'string'\n  ) {\n    src.uri = source.uri;\n  }\n\n  if (src.uri) {\n    const match = src?.uri?.match(svgDataUriPattern);\n    // inline SVG markup may contain characters (e.g., #, \") that need to be escaped\n    if (match) {\n      const [, prefix, svg] = match;\n      const encodedSvg = encodeURIComponent(svg);\n      src.uri = `${prefix}${encodedSvg}`;\n      return src;\n    }\n  }\n  return src;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAMA,IAAAC,SAAA,GAAAD,OAAA;AAcA,IAAME,iBAAiB,GAAG,mCAAmC;AAGtD,SAASC,eAAeA,CAC7BC,MAAiD,EACP;EAC1C,IAAIC,GAAsC,GAAG,CAAC,CAAC;EAC/C,IAAI,OAAOD,MAAM,KAAK,QAAQ,EAAE;IAE9B,IAAME,KAA2B,GAAG,IAAAC,sBAAY,EAACH,MAAM,CAAC;IACxD,IAAIE,KAAK,IAAI,IAAI,EAAE;MACjB,MAAM,IAAIE,KAAK,CACb,yBAAyBJ,MAAM,kEACjC,CAAC;IACH;IACAC,GAAG,GAAG;MACJI,KAAK,EAAEH,KAAK,CAACG,KAAK;MAClBC,MAAM,EAAEJ,KAAK,CAACI,MAAM;MACpBC,KAAK,EAAEL,KAAK,CAACM,MAAM,CAAC,CAAC;IACvB,CAAC;IACD,IAAIN,KAAK,CAACM,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;MAC3B,IAAMC,cAAc,GAAGC,uBAAU,CAACC,GAAG,CAAC,CAAC;MAEvCX,GAAG,CAACM,KAAK,GAAGL,KAAK,CAACM,MAAM,CAACK,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI;QAAA,OACzCC,IAAI,CAACC,GAAG,CAACF,IAAI,GAAGL,cAAc,CAAC,GAAGM,IAAI,CAACC,GAAG,CAACH,IAAI,GAAGJ,cAAc,CAAC,GAC7DK,IAAI,GACJD,IACN;MAAA,EAAC;IACH;IACA,IAAMI,WAAW,GAAGjB,GAAG,CAACM,KAAK,KAAK,CAAC,GAAG,IAAIN,GAAG,CAACM,KAAK,GAAG,GAAG,EAAE;IAC3DN,GAAG,CAACkB,GAAG,GAAGjB,KAAK,GACX,GAAGA,KAAK,CAACkB,kBAAkB,IAAIlB,KAAK,CAACmB,IAAI,GAAGH,WAAW,IAAIhB,KAAK,CAACoB,IAAI,EAAE,GACvE,EAAE;EACR,CAAC,MAAM,IAAI,OAAOtB,MAAM,KAAK,QAAQ,EAAE;IACrCC,GAAG,CAACkB,GAAG,GAAGnB,MAAM;EAClB,CAAC,MAAM,IACLA,MAAM,IACN,CAACuB,KAAK,CAACC,OAAO,CAACxB,MAAM,CAAC,IACtB,OAAOA,MAAM,CAACmB,GAAG,KAAK,QAAQ,EAC9B;IACAlB,GAAG,CAACkB,GAAG,GAAGnB,MAAM,CAACmB,GAAG;EACtB;EAEA,IAAIlB,GAAG,CAACkB,GAAG,EAAE;IAAA,IAAAM,IAAA;IACX,IAAMC,KAAK,IAAAD,IAAA,GAAGxB,GAAG,cAAAwB,IAAA,gBAAAA,IAAA,GAAHA,IAAA,CAAKN,GAAG,cAAAM,IAAA,uBAARA,IAAA,CAAUC,KAAK,CAAC5B,iBAAiB,CAAC;IAEhD,IAAI4B,KAAK,EAAE;MACT,IAAAC,MAAA,OAAAC,eAAA,CAAAC,OAAA,EAAwBH,KAAK;QAApBI,MAAM,GAAAH,MAAA;QAAEI,GAAG,GAAAJ,MAAA;MACpB,IAAMK,UAAU,GAAGC,kBAAkB,CAACF,GAAG,CAAC;MAC1C9B,GAAG,CAACkB,GAAG,GAAG,GAAGW,MAAM,GAAGE,UAAU,EAAE;MAClC,OAAO/B,GAAG;IACZ;EACF;EACA,OAAOA,GAAG;AACZ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}